<div class="container mt-4">
  <h2 class="text-center">Reports Overview</h2>

  <!-- Search & Filter Section -->
  <div class="search-filter-section">
    <input
      type="text"
      class="search-input"
      placeholder="🔍 Search by title..."
      [(ngModel)]="searchTerm"
    />
    <button class="search-button">
      <i class="fas fa-search"></i> Search
    </button>
    <select
      class="filter-select"
      [(ngModel)]="selectedStatus"
    >
      <option value="">All Statuses</option>
      <option value="PENDING">Pending</option>
      <option value="COMPLETED">Completed</option>
      <option value="FAILED">Failed</option>
      <option value="ARCHIVED">Archived</option>
    </select>
    <!-- Add the Generate Report button here -->
    <button class="btn generate-performance-btn" (click)="generatePerformanceReport()">Generate Performance Report</button>
  </div>

  <!-- Reports Card Grid -->
  <div class="card-container">
    <div class="card" *ngFor="let report of reports?.length ? filteredReports() : []">
      <div class="card-body">
        <h5 class="card-title">{{ report.title }}</h5>
        <p class="card-text">{{ report.description }}</p>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">
            <strong>Type:</strong> {{ report.reportType }}
          </li>
          <li class="list-group-item">
            <strong>Status:</strong>
            <span class="badge bg-warning" *ngIf="report.status === 'PENDING'">Pending</span>
            <span class="badge bg-success" *ngIf="report.status === 'COMPLETED'">Completed</span>
            <span class="badge bg-danger" *ngIf="report.status === 'FAILED'">Failed</span>
            <span class="badge bg-secondary" *ngIf="report.status === 'ARCHIVED'">Archived</span>
          </li>
          <li class="list-group-item">
            <strong>Generated Date:</strong> {{ report.generatedDate | date:'short' }}
          </li>
          <li class="list-group-item">
            <strong>Last Updated:</strong> {{ report.lastUpdated | date:'short' }}
          </li>
        </ul>
      </div>
      <div class="card-footer">
        <button class="btn btn-primary" (click)="onUpdate(report)">
          <i class="fas fa-refresh"></i> Update
        </button>
        <button class="btn btn-archive" (click)="ArchiveReport(report.idReport)">Archive</button>
        <button class="btn btn-danger" (click)="deleteReport(report.idReport)">Delete</button>
      </div>
    </div>
  </div>

  <!-- No Data Message -->
  <div *ngIf="filteredReports().length === 0" class="alert alert-info text-center">
    No reports found.
  </div>
</div>