<div class="container">
  <!-- Titre dynamique : mode édition ou ajout -->
  <h2 class="title">
    {{ isEditMode ? 'Modifier un ProblemRisk' : 'Ajouter un ProblemRisk' }}
  </h2>

  <form>
    <!-- Champ Titre -->
    <div class="form-group">
      <label for="title">Titre</label>
      <input
        id="title"
        name="title"
        [(ngModel)]="problemRisk.title"
        required
      />
    </div>

    <!-- Champ Description -->
    <div class="form-group">
      <label for="description">Description</label>
      <textarea
        id="description"
        name="description"
        [(ngModel)]="problemRisk.description"
        rows="3"
      ></textarea>
    </div>

    <!-- Champ Type (enum) -->
    <div class="form-group">
      <label for="type">Type</label>
      <select id="type" name="type" [(ngModel)]="problemRisk.type">
        <option value="TECHNICAL">TECHNICAL</option>
        <option value="MANAGEMENT">MANAGEMENT</option>
        <option value="OTHER">OTHER</option>
      </select>
    </div>

    <!-- Champ Probabilité (enum) -->
    <div class="form-group">
      <label for="probability">Probabilité</label>
      <select
        id="probability"
        name="probability"
        [(ngModel)]="problemRisk.probability"
      >
        <option value="LOW">LOW</option>
        <option value="MEDIUM">MEDIUM</option>
        <option value="HIGH">HIGH</option>
      </select>
    </div>

    <!-- Champ Statut (enum) -->
    <div class="form-group">
      <label for="problemStatus">Statut</label>
      <select
        id="problemStatus"
        name="problemStatus"
        [(ngModel)]="problemRisk.problemStatus"
      >
        <option value="OPEN">OPEN</option>
        <option value="IN_PROGRESS">IN_PROGRESS</option>
        <option value="RESOLVED">RESOLVED</option>
      </select>
    </div>

    <!-- Date de détection -->
    <div class="form-group">
      <label for="detectionDate">Date de détection</label>
      <input
        id="detectionDate"
        name="detectionDate"
        [(ngModel)]="problemRisk.detectionDate"
        type="datetime-local"
      />
    </div>

    <!-- Date de résolution -->
    <div class="form-group">
      <label for="resolutionDate">Date de résolution</label>
      <input
        id="resolutionDate"
        name="resolutionDate"
        [(ngModel)]="problemRisk.resolutionDate"
        type="datetime-local"
      />
    </div>

    <!-- Solutions appliquées -->
    <div class="form-group">
      <label for="appliedSolutions">Solutions appliquées</label>
      <textarea
        id="appliedSolutions"
        name="appliedSolutions"
        [(ngModel)]="problemRisk.appliedSolutions"
        rows="2"
      ></textarea>
    </div>

    <!-- Boutons d'action -->
    <button
      type="button"
      class="btn generate"
      (click)="generateData()"
    >
      Générer
    </button>
    <button
      type="button"
      class="btn submit"
      (click)="save()"
    >
      {{ isEditMode ? 'Mettre à jour' : 'Ajouter' }}
    </button>
  </form>
</div>
