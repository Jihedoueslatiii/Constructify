<!-- Navbar -->
<nav class="navbar">
  <!-- Import Font Awesome icons -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
  />

  <button class="toggle-btn" (click)="toggleSidebar()">☰</button>

  <div class="nav-right">
    <!-- Barre de recherche -->
    <div class="search-box">
      <input type="text" placeholder="Search..." (input)="onSearchChange($event)" />
      <button><i class="fas fa-search"></i></button>
    </div>

    <!-- Bouton de notification -->
    <div class="notification-wrapper">
      <button class="notification-btn" (click)="toggleNotifications()">
        <i class="fas fa-bell"></i>
        <span *ngIf="notificationCount > 0" class="notification-badge">{{ notificationCount }}</span>
      </button>

      <!-- Conteneur de notifications -->
      <div class="notification-dropdown" *ngIf="showNotifications">
        <div class="notification-item" *ngFor="let notification of notifications">
          <p>{{ notification }}</p>
          <button class="close-btn" (click)="removeNotification(notification)">×</button>
        </div>
        <button class="clear-all-btn" (click)="clearNotifications()">Clear All</button>
      </div>
    </div>

    <!-- Icônes -->
    <div class="nav-icons">
      <a href="#" class="icon" title="Messages">
        <i class="fas fa-envelope"></i>
      </a>
      <a href="#" class="icon" title="Settings">
        <i class="fas fa-cog"></i>
      </a>
      <a href="#" class="icon" title="User">
        <i class="fas fa-user"></i>
      </a>
    </div>

    <!-- Profil utilisateur -->
    <div class="user-profile">
      <img src="assets/image/adam.png" alt="Meriem Haj Taieb" class="user-img" />
      <span class="user-name">Meriem Haj Taieb</span>
    </div>
  </div>
</nav>

<!-- Sidebar -->
<aside class="sidebar" [class.closed]="isSidebarClosed">
  <div class="logo-container">
    <img src="assets/image/logo.png" alt="Logo" class="logo-img" />
  </div>
  <ul class="menu">
    <!-- Project -->
    <li>
      <a href="#" class="menu-item" (click)="toggleSubMenu('project')">
        <i class="fas fa-folder"></i> Project
      </a>
      <ul class="submenu" [class.open]="activeMenu === 'project'">
        <li><a href="#"><i class="fas fa-plus"></i> New Project</a></li>
        <li><a href="#"><i class="fas fa-list"></i> View Projects</a></li>
      </ul>
    </li>

    <!-- Task -->
    <li>
      <a href="#" class="menu-item" (click)="toggleSubMenu('task')">
        <i class="fas fa-tasks"></i> Task
      </a>
      <ul class="submenu" [class.open]="activeMenu === 'task'">
        <li><a href="#"><i class="fas fa-pencil-alt"></i> Add Task</a></li>
        <li><a href="#"><i class="fas fa-thumbtack"></i> View Tasks</a></li>
      </ul>
    </li>

    <!-- Resource -->
    <li>
      <a href="#" class="menu-item" (click)="toggleSubMenu('resource')">
        <i class="fas fa-wrench"></i> Resource
      </a>
      <ul class="submenu" [class.open]="activeMenu === 'resource'">
        <li><a href="/AddRessource"><i class="fas fa-tools"></i> Add Resource</a></li>
        <li><a href="/ViewRessource"><i class="fas fa-scroll"></i> View Resources</a></li>
      </ul>
    </li>

    <!-- Finance, Users, Team -->
    <li><a href="#"><i class="fas fa-dollar-sign"></i> Finance</a></li>
    <li><a href="#"><i class="fas fa-users"></i> Users</a></li>
    <li><a href="#"><i class="fas fa-building"></i> Team</a></li>

    <!-- Deliverable -->
    <li>
      <a class="menu-item" (click)="toggleSubMenu('deliverable')">
        <i class="fas fa-wrench"></i> Deliverable
      </a>
      <ul class="submenu" [class.open]="activeMenu === 'deliverable'">
        <li><a href="/AddDeliverable"><i class="fas fa-tools"></i> Add deliverable</a></li>
        <li><a href="/ViewDeliverable"><i class="fas fa-scroll"></i> View deliverable</a></li>
      </ul>
    </li>

    <!-- Problem & Risk (Nouveau menu) -->
    <li>
      <a class="menu-item" (click)="toggleSubMenu('problemRisk')">
        <i class="fas fa-exclamation-triangle"></i> Problem & Risk
      </a>
      <ul class="submenu" [class.open]="activeMenu === 'problemRisk'">
        <li>
          <a href="/add-problem-risk">
            <i class="fas fa-plus"></i> Add ProblemRisk
          </a>
        </li>
        <li>
          <a href="/problem-risks">
            <i class="fas fa-scroll"></i> View ProblemRisks
          </a>
        </li>
      </ul>
    </li>

    <!-- Documentation -->
    <li><a href="#"><i class="fas fa-file-alt"></i> Documentation</a></li>
  </ul>
</aside>